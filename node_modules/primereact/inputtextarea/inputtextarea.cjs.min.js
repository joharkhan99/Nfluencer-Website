"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("primereact/keyfilter"),n=require("primereact/tooltip"),r=require("primereact/utils");function o(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var l=o(e);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}var a={defaultProps:{__TYPE:"InputTextarea",autoResize:!1,keyfilter:null,onBlur:null,onFocus:null,onInput:null,onKeyDown:null,onKeyUp:null,onPaste:null,tooltip:null,tooltipOptions:null,validateOnly:!1,children:void 0},getProps:function(e){return r.ObjectUtils.getMergedProps(e,a.defaultProps)},getOtherProps:function(e){return r.ObjectUtils.getDiffProps(e,a.defaultProps)}},s=l.memo(l.forwardRef((function(e,o){var s=a.getProps(e),u=l.useRef(o),c=l.useRef(0),p=function(e){var t=u.current;t&&r.DomHandler.isVisible(t)&&(c.current||(c.current=t.scrollHeight,t.style.overflow="hidden"),(c.current!==t.scrollHeight||e)&&(t.style.height="",t.style.height=t.scrollHeight+"px",parseFloat(t.style.height)>=parseFloat(t.style.maxHeight)?(t.style.overflowY="scroll",t.style.height=t.style.maxHeight):t.style.overflow="hidden",c.current=t.scrollHeight))};l.useEffect((function(){r.ObjectUtils.combinedRefs(u,o)}),[u,o]),l.useEffect((function(){s.autoResize&&p(!0)}),[s.autoResize]);var f=l.useMemo((function(){return r.ObjectUtils.isNotEmpty(s.value)||r.ObjectUtils.isNotEmpty(s.defaultValue)}),[s.value,s.defaultValue]),y=r.ObjectUtils.isNotEmpty(s.tooltip),d=a.getOtherProps(s),m=r.classNames("p-inputtextarea p-inputtext p-component",{"p-disabled":s.disabled,"p-filled":f,"p-inputtextarea-resizable":s.autoResize},s.className);return l.createElement(l.Fragment,null,l.createElement("textarea",i({ref:u},d,{className:m,onFocus:function(e){s.autoResize&&p(),s.onFocus&&s.onFocus(e)},onBlur:function(e){s.autoResize&&p(),s.onBlur&&s.onBlur(e)},onKeyUp:function(e){s.autoResize&&p(),s.onKeyUp&&s.onKeyUp(e)},onKeyDown:function(e){s.onKeyDown&&s.onKeyDown(e),s.keyfilter&&t.KeyFilter.onKeyPress(e,s.keyfilter,s.validateOnly)},onInput:function(e){var t=e.target;s.autoResize&&p(r.ObjectUtils.isEmpty(t.value)),s.onInput&&s.onInput(e),r.ObjectUtils.isNotEmpty(t.value)?r.DomHandler.addClass(t,"p-filled"):r.DomHandler.removeClass(t,"p-filled")},onPaste:function(e){s.onPaste&&s.onPaste(e),s.keyfilter&&t.KeyFilter.onPaste(e,s.keyfilter,s.validateOnly)}})),y&&l.createElement(n.Tooltip,i({target:u,content:s.tooltip},s.tooltipOptions)))})));s.displayName="InputTextarea",exports.InputTextarea=s;
