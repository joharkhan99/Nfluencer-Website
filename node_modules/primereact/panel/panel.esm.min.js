import*as e from"react";import{CSSTransition as t}from"primereact/csstransition";import{useMountEffect as n}from"primereact/hooks";import{MinusIcon as l}from"primereact/icons/minus";import{PlusIcon as r}from"primereact/icons/plus";import{Ripple as o}from"primereact/ripple";import{ObjectUtils as a,UniqueComponentId as i,mergeProps as c,classNames as p,IconUtils as s}from"primereact/utils";import{ComponentBase as u}from"primereact/componentbase";function m(e){if(Array.isArray(e))return e}function f(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var l,r,o,a,i=[],c=!0,p=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(l=o.call(n)).done)&&(i.push(l.value),i.length!==t);c=!0);}catch(e){p=!0,r=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(p)throw r}}return i}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}function d(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function E(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){return m(e)||f(e,t)||d(e,t)||E()}var h=u.extend({defaultProps:{__TYPE:"Panel",id:null,header:null,headerTemplate:null,footer:null,footerTemplate:null,toggleable:null,style:null,className:null,collapsed:null,expandIcon:null,collapseIcon:null,icons:null,transitionOptions:null,onExpand:null,onCollapse:null,onToggle:null,children:void 0}}),v=e.forwardRef((function(u,m){var f=h.getProps(u),g=b(e.useState(f.id),2),d=g[0],E=g[1],v=b(e.useState(f.collapsed),2),y=v[0],N=v[1],T=e.useRef(m),S=e.useRef(null),x=!!f.toggleable&&(f.onToggle?f.collapsed:y),C=d+"_header",I=d+"_content",O=h.setMetaData({props:f,state:{id:d,collapsed:x}}).ptm,A=function(e){f.toggleable&&(x?J(e):P(e),f.onToggle&&f.onToggle({originalEvent:e,value:!x})),e.preventDefault()},J=function(e){f.onToggle||N(!1),f.onExpand&&f.onExpand(e)},P=function(e){f.onToggle||N(!0),f.onCollapse&&f.onCollapse(e)};e.useImperativeHandle(m,(function(){return{props:f,getElement:function(){return T.current},getContent:function(){return S.current}}})),e.useEffect((function(){a.combinedRefs(T,m)}),[T,m]),n((function(){d||E(i())}));var X,j,k=function(){if(f.toggleable){var t=c({className:"p-panel-header-icon p-panel-toggler p-link",onClick:A,id:d+"_label","aria-controls":I,"aria-expanded":!x,role:"tab"},O("toggler")),n=c(O("togglericon")),a=s.getJSXIcon(x?f.expandIcon||e.createElement(r,n):f.collapseIcon||e.createElement(l,n),n,{props:f,collapsed:x});return e.createElement("button",t,a,e.createElement(o,null))}return null},w=c({id:d,ref:T,style:f.style,className:p("p-panel p-component",{"p-panel-toggleable":f.toggleable},f.className)},h.getOtherProps(f),O("root")),R=function(){var t=a.getJSXElement(f.header,f),n=a.getJSXElement(f.icons,f),l=k(),r=c({id:C,className:"p-panel-title"},O("title")),o=e.createElement("span",r,t),i=c({className:"p-panel-icons"},O("icons")),p=e.createElement("div",i,n,l),s=c({className:"p-panel-header"},O("header")),u=e.createElement("div",s,o,p);return f.headerTemplate?a.getJSXElement(f.headerTemplate,{className:"p-panel-header",titleClassName:"p-panel-title",iconsClassName:"p-panel-icons",togglerClassName:"p-panel-header-icon p-panel-toggler p-link",onTogglerClick:A,titleElement:o,iconsElement:p,togglerElement:l,element:u,props:f,collapsed:x}):f.header||f.toggleable?u:null}(),_=(X=c({ref:S,className:"p-toggleable-content","aria-hidden":x,role:"region",id:I,"aria-labelledby":C},O("toggleablecontent")),j=c({className:"p-panel-content"},O("content")),e.createElement(t,{nodeRef:S,classNames:"p-toggleable-content",timeout:{enter:1e3,exit:450},in:!x,unmountOnExit:!0,options:f.transitionOptions},e.createElement("div",X,e.createElement("div",j,f.children)))),D=function(){var t=a.getJSXElement(f.footer,f),n=c({className:"p-panel-footer"},O("footer")),l=e.createElement("div",n,t);return f.footerTemplate?a.getJSXElement(f.footerTemplate,{className:"p-panel-footer",element:l,props:f}):f.footer?l:null}();return e.createElement("div",w,R,_,D)}));v.displayName="Panel";export{v as Panel};
